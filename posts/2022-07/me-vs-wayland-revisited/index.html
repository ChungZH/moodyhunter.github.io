<!DOCTYPE html>
<html lang="cn">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self' https://utteranc.es; frame-src 'self' https://utteranc.es; img-src 'self' https:; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/ https://utteranc.es; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net/ https://utteranc.es/ https://static.cloudflareinsights.com/; prefetch-src 'self' https://utteranc.es; connect-src 'self' https://utteranc.es;">




<meta name="author" content="Moody">
<meta name="description" content="我也是 Wayland 用户了！ 退了谢谢 就在三天之前，……
我就退了谢谢。 在切换到 Wayland 前，我对他充满了满心憧憬，因为我有个 4K 屏幕而 X11 下（似乎）对多屏不同 DPI 的支持不是很好。
自从 2021 年底左右，我就一次又一次地切换到 Wayland 进行体验，即使每次都有一些新的 bug 被修复，但当时的整体感觉仍然不好。
直到前几天（四天前）我又一次尝试 Wayland，第一天下来，虽然体验到了一些 glitch，但整体还算可以接受。Wayland 带来的 4K 高分屏支持、高刷新率支持都是顶级的加分项。
退坑 但从第二天开始，各种各样的问题就浮现出来：
VSCode 无法使用输入法 我要写 blog 啊，没有中文输入法怎么行？
🍊：怎么用不了输入法
Ian：ozone
🍊：所以怎么办
Ian：在别的地方输入，然后 cut paste
Chromium 上游的 text_input_manager_v3 支持 Code Review 仍然在进行中，尚未合并。因此下游电子垃圾们只能慢慢等着（或者 XWayland）。直接导致 Chromium / Chrome / VSCode 在 native Wayland 环境下根本无法使用输入法。
注：Chromium / Chrome 可以通过使用 --gtk-version=4 启用 GTK4，通过构造一个假的（没错）GTK 窗口进行 &ldquo;伪造&rdquo; 输入法支持
有关输入法的更多内容，请戳 Chrome/Chromium 今日 Wayland 输入法支持现状">
<meta name="keywords" content="blog,personal,中文,个人">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="与 Wayland 的第 N&#43;1 次亲密互动（退坑重制版）"/>
<meta name="twitter:description" content="我也是 Wayland 用户了！ 退了谢谢 就在三天之前，……
我就退了谢谢。 在切换到 Wayland 前，我对他充满了满心憧憬，因为我有个 4K 屏幕而 X11 下（似乎）对多屏不同 DPI 的支持不是很好。
自从 2021 年底左右，我就一次又一次地切换到 Wayland 进行体验，即使每次都有一些新的 bug 被修复，但当时的整体感觉仍然不好。
直到前几天（四天前）我又一次尝试 Wayland，第一天下来，虽然体验到了一些 glitch，但整体还算可以接受。Wayland 带来的 4K 高分屏支持、高刷新率支持都是顶级的加分项。
退坑 但从第二天开始，各种各样的问题就浮现出来：
VSCode 无法使用输入法 我要写 blog 啊，没有中文输入法怎么行？
🍊：怎么用不了输入法
Ian：ozone
🍊：所以怎么办
Ian：在别的地方输入，然后 cut paste
Chromium 上游的 text_input_manager_v3 支持 Code Review 仍然在进行中，尚未合并。因此下游电子垃圾们只能慢慢等着（或者 XWayland）。直接导致 Chromium / Chrome / VSCode 在 native Wayland 环境下根本无法使用输入法。
注：Chromium / Chrome 可以通过使用 --gtk-version=4 启用 GTK4，通过构造一个假的（没错）GTK 窗口进行 &ldquo;伪造&rdquo; 输入法支持
有关输入法的更多内容，请戳 Chrome/Chromium 今日 Wayland 输入法支持现状"/>

<meta property="og:title" content="与 Wayland 的第 N&#43;1 次亲密互动（退坑重制版）" />
<meta property="og:description" content="我也是 Wayland 用户了！ 退了谢谢 就在三天之前，……
我就退了谢谢。 在切换到 Wayland 前，我对他充满了满心憧憬，因为我有个 4K 屏幕而 X11 下（似乎）对多屏不同 DPI 的支持不是很好。
自从 2021 年底左右，我就一次又一次地切换到 Wayland 进行体验，即使每次都有一些新的 bug 被修复，但当时的整体感觉仍然不好。
直到前几天（四天前）我又一次尝试 Wayland，第一天下来，虽然体验到了一些 glitch，但整体还算可以接受。Wayland 带来的 4K 高分屏支持、高刷新率支持都是顶级的加分项。
退坑 但从第二天开始，各种各样的问题就浮现出来：
VSCode 无法使用输入法 我要写 blog 啊，没有中文输入法怎么行？
🍊：怎么用不了输入法
Ian：ozone
🍊：所以怎么办
Ian：在别的地方输入，然后 cut paste
Chromium 上游的 text_input_manager_v3 支持 Code Review 仍然在进行中，尚未合并。因此下游电子垃圾们只能慢慢等着（或者 XWayland）。直接导致 Chromium / Chrome / VSCode 在 native Wayland 环境下根本无法使用输入法。
注：Chromium / Chrome 可以通过使用 --gtk-version=4 启用 GTK4，通过构造一个假的（没错）GTK 窗口进行 &ldquo;伪造&rdquo; 输入法支持
有关输入法的更多内容，请戳 Chrome/Chromium 今日 Wayland 输入法支持现状" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mooody.me/posts/2022-07/me-vs-wayland-revisited/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-07-04T00:00:00+00:00" />




  <title>Moody&#39;s</title>

  
  <link rel="canonical" href="https://mooody.me/posts/2022-07/me-vs-wayland-revisited/">
  

  <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.6b1a4fbc48955b72aea7913e43fabeb45e8bc120da5aa41b598dd33adcac4b59.css" integrity="sha256-axpPvEiVW3Kup5E&#43;Q/q&#43;tF6LwSDaWqQbWY3TOtysS1k=" crossorigin="anonymous" media="screen" />





  
  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.39e41a7f16bdf8cb16e43cae7d714fa1016f1d2d2898a5b3f27f42c9979204e2.css" integrity="sha256-OeQafxa9&#43;MsW5DyufXFPoQFvHS0omKWz8n9CyZeSBOI=" crossorigin="anonymous" media="screen" />
  



   


  
  
    
    <link rel="stylesheet" href="/scss/cards.min.66689eb6794f4d37bf49748d47a91d8dc5918d78d800a8fae4f1a9649ce35145.css" integrity="sha256-ZmietnlPTTe/SXSNR6kdjcWRjXjYAKj65PGpZJzjUUU=" crossorigin="anonymous" media="screen" />
  

  
  
    
    <link rel="stylesheet" href="/scss/spoiler.min.6758d9b6919e25bb0a3c105fb53c53d4329838c7c3c6c41a4443a232bcca0886.css" integrity="sha256-Z1jZtpGeJbsKPBBftTxT1DKYOMfDxsQaREOiMrzKCIY=" crossorigin="anonymous" media="screen" />
  



  <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon.ico" sizes="16x16">

<link rel="apple-touch-icon" href="/images/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">


  

  <meta name="generator" content="Hugo 0.101.0" />


  

</head>







<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Moody&#39;s
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/">主页</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">文章</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/friends/">友链</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">我</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://g.mooody.me/d/home/server-status?orgId=2">服务状态</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://mooody.me/en/">🇬🇧</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://mooody.me/posts/2022-07/me-vs-wayland-revisited/">
              与 Wayland 的第 N&#43;1 次亲密互动（退坑重制版）
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2022-07-04T00:00:00Z">
                July 4, 2022
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/wayland/">Wayland</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/linux/">Linux</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/%E5%9D%91/">坑</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <h1 id="我也是-wayland-用户了-退了谢谢">
  <del>我也是 Wayland 用户了！</del> 退了谢谢
  <a class="heading-link" href="#%e6%88%91%e4%b9%9f%e6%98%af-wayland-%e7%94%a8%e6%88%b7%e4%ba%86-%e9%80%80%e4%ba%86%e8%b0%a2%e8%b0%a2">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h1>
<p><a href="../me-vs-wayland//">就在三天之前，……</a></p>
<p><img src="bye-from-copilot.png" alt="?"></p>

<span class="spoiler" title="你知道的太多了">
    
    我就退了谢谢。
    
</span>


<p>在切换到 Wayland 前，我对他充满了满心憧憬，因为我有个 4K 屏幕而 X11 下（似乎）对多屏不同 DPI 的支持不是很好。</p>
<p>自从 2021 年底左右，我就一次又一次地切换到 Wayland 进行体验，即使每次都有一些新的 bug 被修复，但当时的整体感觉仍然不好。</p>
<p>直到前几天（四天前）我又一次尝试 Wayland，第一天下来，虽然体验到了一些 glitch，但整体还算可以接受。Wayland 带来的 4K 高分屏支持、高刷新率支持都是顶级的加分项。</p>
<h2 id="退坑">
  退坑
  <a class="heading-link" href="#%e9%80%80%e5%9d%91">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>但从第二天开始，各种各样的问题就浮现出来：</p>
<h3 id="vscode-无法使用输入法">
  VSCode 无法使用输入法
  <a class="heading-link" href="#vscode-%e6%97%a0%e6%b3%95%e4%bd%bf%e7%94%a8%e8%be%93%e5%85%a5%e6%b3%95">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>我要写 blog 啊，没有中文输入法怎么行？</p>
<blockquote>
<p>🍊：怎么用不了输入法</p>
<p>Ian：ozone</p>
<p>🍊：所以怎么办</p>
<p>Ian：在别的地方输入，然后 cut paste</p>
</blockquote>
<p>Chromium 上游的 <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3015331"><code>text_input_manager_v3</code> 支持</a>
Code Review 仍然在进行中，尚未合并。因此下游电子垃圾们只能慢慢等着（或者 XWayland）。直接导致 Chromium / Chrome / VSCode 在
native Wayland 环境下根本无法使用输入法。</p>
<p>注：Chromium / Chrome 可以通过使用 <code>--gtk-version=4</code> 启用 GTK4，通过构造一个假的（没错）GTK 窗口进行 &ldquo;伪造&rdquo; 输入法支持</p>
<p>有关输入法的更多内容，请戳 <a href="https://www.csslayer.info/wordpress/fcitx-dev/chrome-state-of-input-method-on-wayland/">Chrome/Chromium 今日 Wayland 输入法支持现状</a></p>
<p>（内容引用于 2022 年 7 月，届时可能会更新，请留意）</p>
<h3 id="krunner-经常性无法调出">
  KRunner 经常性无法调出
  <a class="heading-link" href="#krunner-%e7%bb%8f%e5%b8%b8%e6%80%a7%e6%97%a0%e6%b3%95%e8%b0%83%e5%87%ba">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>不知道什么原因。在经过一段时间之后，我就无法使用 <code>Alt + Space</code> 呼出 KRunner。<br>
本人是 KRunner 重度用户，每次出现这种情况后需要使用</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl --user restart plasma-krunner.service
</span></span></code></pre></td></tr></table>
</div>
</div><p>重启服务才能重新恢复正常，但过一段时间之后，问题仍会出现。</p>
<p>Such a bummer.</p>
<h3 id="global-application-menu-无法使用-meta-键hahahugoshortcode-s1-hbhb打开">
  Global Application Menu 无法使用 Meta 键
<span class="spoiler" title="你知道的太多了">
    
    （Windows 徽标键）
    
</span>

打开
  <a class="heading-link" href="#global-application-menu-%e6%97%a0%e6%b3%95%e4%bd%bf%e7%94%a8-meta-%e9%94%aehahahugoshortcode-s1-hbhb%e6%89%93%e5%bc%80">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>同样是个不知道什么原因的问题。无法进行更多的分析。</p>
<h3 id="flameshot-无法正常使用">
  Flameshot 无法正常使用
  <a class="heading-link" href="#flameshot-%e6%97%a0%e6%b3%95%e6%ad%a3%e5%b8%b8%e4%bd%bf%e7%94%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>虽然说可以不用 Flameshot，但已经习惯了他的 annotation，换用 Spectacle 还是挺不适应的。</p>
<h3 id="latte-dock-彻底无法启动">
  Latte Dock 彻底无法启动
  <a class="heading-link" href="#latte-dock-%e5%bd%bb%e5%ba%95%e6%97%a0%e6%b3%95%e5%90%af%e5%8a%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>同样，我不知道什么原因，在终端添加 <code>-d</code> debug 输出也并无有用的消息，gdb 现实为在 <code>poll()</code> 但没时间调查具体在 <code>poll</code> 什么。</p>
<h3 id="vscode--vmware-屏幕闪烁">
  VSCode / VMWare 屏幕闪烁
  <a class="heading-link" href="#vscode--vmware-%e5%b1%8f%e5%b9%95%e9%97%aa%e7%83%81">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>俩闭源软件也没什么好调查的</p>
<h3 id="wine-无法拖动文件进出">
  Wine 无法拖动文件进出
  <a class="heading-link" href="#wine-%e6%97%a0%e6%b3%95%e6%8b%96%e5%8a%a8%e6%96%87%e4%bb%b6%e8%bf%9b%e5%87%ba">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>字面意思，无法拖动文件进出。我不是 wine 开发者，故而也不知道什么原因。</p>
<h3 id="辣鸡微信">
  辣鸡微信
  <a class="heading-link" href="#%e8%be%a3%e9%b8%a1%e5%be%ae%e4%bf%a1">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>辣鸡微信无论是 wine Wayland 下还是 wine X11 下都十分难用，张小龙
<span class="spoiler" title="你知道的太多了">
    
    阖家欢乐
    
</span>

。</p>
<h2 id="结语">
  结语
  <a class="heading-link" href="#%e7%bb%93%e8%af%ad">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>以上内容均为本人观点，由于技术有限，可能无法正确排除所有问题。<br>
如果有人能提供以上问题的具体原因，或解决办法，欢迎 leave a comment，我将感激不尽。</p>
<p>在这之前我大概只好 Stuck with X11 了。</p>

      </div>


      <footer>
        


        
        
        <div class="comments">
    <script>
  
    let getTheme = window.localStorage && window.localStorage.getItem("colorscheme");
  
    getTheme = getTheme == null ? '' : getTheme;
    
    let theme = getTheme === 'dark' ? 'github-dark' : 'github-light';
    let s = document.createElement('script');
    s.src = 'https://utteranc.es/client.js';
    s.setAttribute('repo', 'moodyhunter\/moodyhunter.github.io');
    s.setAttribute('issue-term', 'pathname');
    s.setAttribute('theme', theme);
    s.setAttribute('crossorigin', 'anonymous');
    s.setAttribute('async', '');
    document.querySelector('div.comments').innerHTML = '';
    document.querySelector('div.comments').appendChild(s);
  
    </script>
    </div>
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2021 -
    
    2022
     Moody 
    ·
    
       <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA-4.0</a>
    ·
    
     <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  
  
  <script src="/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js" integrity="sha256-I2BJOV3DaC&#43;ycZZAhylY4S8fJAZ7sJwyeyM&#43;YpDH7aw="></script>
  

  

  

  

  

  

  

  

  
</body>

</html>
